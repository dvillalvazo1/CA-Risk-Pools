
Data gathered on 1/3/2026 from parsac.org and Wayback Machine. Note, that PARSC merged with California Intergovernmental Risk Authority o 7/1/2021.  

Membership entity lists from the website also indicated the cities membership start dates. 

```{r}
# load libraries
library(readr)
library(tidyverse)

# load data
parsac <- read_csv("~/Desktop/Desktop - Deboraâ€™s MacBook Pro/CA_risk_pools/parsac.csv")

parsac <- parsac %>%
  mutate(
    city = str_squish(city),
    fy_joined = str_squish(year_joined),
    last_fy_reported = str_squish(fy_end)
  )

# helper to extract FY start year
# extract FY start year normally
parse_fy_start <- function(x) {
  str_extract(x, "^\\d{4}") %>% as.numeric()
}

parsac <- parsac %>%
  mutate(
    join_start = parse_fy_start(fy_joined),
    
    # if join year is missing, assume member since 2010
    join_start = if_else(is.na(join_start), 2010L, join_start),

    last_start = parse_fy_start(last_fy_reported)
  )
fy_seq <- 2010:2020

# build long panel
parsac_long <- parsac %>%
  select(city, fy_joined, last_fy_reported, join_start, last_start) %>%
  crossing(fy_start = fy_seq) %>%
  mutate(
    member = if_else(
      fy_start >= join_start & (is.na(last_start) | fy_start <= last_start),
      1L,
      0L
    ),
    fy = paste0(fy_start, "-", fy_start + 1)
  )

# widen keeping fy_joined + last_fy_reported
parsac_wide <- parsac_long %>%
  select(city, fy_joined, last_fy_reported, fy, member) %>%
  pivot_wider(
    names_from  = fy,
    values_from = member,
    values_fill = 0
  )

# export data as a csv. 
write.csv(parsac_wide, file = "parsacdata.csv")
```
